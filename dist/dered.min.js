var dered={encode:function a(b){var c,d,e,f,g,h,i,j=[],k=[],l=[];if(null===b)return null;if(b instanceof Array){for(e=0;e<b.length;e++){if(l=b[e],l instanceof Array)d=a(l),h="array";else{if(!(l instanceof Object)){if(k.length>0)throw new Error("Do not mix types inside an array");return h="primitive",b}d=[];for(f in l)if(g=j.indexOf(f),-1===g){for(;d.length<j.length;)d.push(void 0);j.push(f),d.push(a(l[f]))}else{for(;d.length<g;)d.push(void 0);d[g]=a(l[f])}h="object"}if(i||(i=h),i!==h)throw new Error("Do not mix types inside an array");k.push(d)}return{"δ":[j,k]}}if(b instanceof Object){c={};for(e in b)c[e]=a(b[e]);return c}return b},decode:function b(a){var c={};if(a instanceof Array)return a.map(b);if(a instanceof Object){for(var d in a){if("δ"===d){var e=a[d][0],f=a[d][1];return f.map(function(a){var c={};return a.forEach(function(a,d){"undefined"!=typeof a&&(c[e[d]]=b(a))}),c})}c[d]=b(a[d])}return c}return a}};"undefined"!=typeof module&&module.exports&&(module.exports=dered),"undefined"!=typeof window&&(window.dered=dered);